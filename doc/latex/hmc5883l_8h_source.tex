\hypertarget{hmc5883l_8h_source}{}\doxysection{hmc5883l.\+h}
\label{hmc5883l_8h_source}\index{include/hmc5883l.h@{include/hmc5883l.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#ifndef\ HMC5883L\_H}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#define\ HMC5883L\_H}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#include\ "{}driver/i2c.h"{}}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#include\ "{}driver/gpio.h"{}}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#define\ HMC5883L\_ADDRESS\ 0x1E}}
\DoxyCodeLine{00008\ }
\DoxyCodeLine{00009\ \textcolor{keyword}{typedef}\ \textcolor{keywordtype}{void}*\ hmc5883l\_handle\_t;}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00012\ \ \ \ \ MAG\_FS\_0\_88GA\ \ \ =\ 0,}
\DoxyCodeLine{00013\ \ \ \ \ MAG\_FS\_1\_3GA\ \ \ \ =\ 1,}
\DoxyCodeLine{00014\ \ \ \ \ MAG\_FS\_1\_9GA\ \ \ \ =\ 2,}
\DoxyCodeLine{00015\ \ \ \ \ MAG\_FS\_2\_5GA\ \ \ \ =\ 3,}
\DoxyCodeLine{00016\ \ \ \ \ MAG\_FS\_4\_0GA\ \ \ \ =\ 4,}
\DoxyCodeLine{00017\ \ \ \ \ MAG\_FS\_4\_7GA\ \ \ \ =\ 5,}
\DoxyCodeLine{00018\ \ \ \ \ MAG\_FS\_5\_6GA\ \ \ \ =\ 6,}
\DoxyCodeLine{00019\ \ \ \ \ MAG\_FS\_8\_1GA\ \ \ \ =\ 7}
\DoxyCodeLine{00020\ \}\ hmc5883l\_fs\_t;\ \textcolor{comment}{//\ TODO\ RENAME}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00023\ \ \ \ \ MAG\_MEASUREMENT\_MODE\_NORMAL\ \ \ \ \ =\ 0,}
\DoxyCodeLine{00024\ \ \ \ \ MAG\_MEASUREMENT\_MODE\_POS\_BIAS\ \ \ =\ 1,}
\DoxyCodeLine{00025\ \ \ \ \ MAG\_MEASUREMENT\_MODE\_NEG\_BIAS\ \ \ =\ 2}
\DoxyCodeLine{00026\ \}\ hmc5883l\_measurement\_mode\_t;}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00029\ \ \ \ \ MAG\_CONTINUOUS\ \ =\ 0,}
\DoxyCodeLine{00030\ \ \ \ \ MAG\_SINGLE\ \ \ \ \ \ =\ 1,}
\DoxyCodeLine{00031\ \ \ \ \ MAG\_IDLE\ \ \ \ \ \ \ \ =\ 2,}
\DoxyCodeLine{00032\ \ \ \ \ MAG\_IDLE\_2\ \ \ \ \ \ =\ 3}
\DoxyCodeLine{00033\ \}\ hmc5883l\_mode\_t;}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00036\ \ \ \ \ HMC5883L\_HIGHSPEED\_DISABLED\ =\ 0,}
\DoxyCodeLine{00037\ \ \ \ \ HMC5883L\_HIGHSPEED\_ENABLED\ =\ 1}
\DoxyCodeLine{00038\ \}\ hmc5883l\_highspeed\_t;}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00041\ \ \ \ \ HMC5883L\_OUTPUT\_RATE\_0\_75\_HZ\ =\ 0,}
\DoxyCodeLine{00042\ \ \ \ \ HMC5883L\_OUTPUT\_RATE\_1\_5\_HZ\ =\ 1,}
\DoxyCodeLine{00043\ \ \ \ \ HMC5883L\_OUTPUT\_RATE\_3\_HZ\ =\ 2,}
\DoxyCodeLine{00044\ \ \ \ \ HMC5883L\_OUTPUT\_RATE\_7\_5\_HZ\ =\ 3,}
\DoxyCodeLine{00045\ \ \ \ \ HMC5883L\_OUTPUT\_RATE\_15\_HZ\ =\ 4,}
\DoxyCodeLine{00046\ \ \ \ \ HMC5883L\_OUTPUT\_RATE\_30\_HZ\ =\ 5,}
\DoxyCodeLine{00047\ \ \ \ \ HMC5883L\_OUTPUT\_RATE\_75\_HZ\ =\ 6}
\DoxyCodeLine{00048\ \}\ hmc5883l\_output\_rate\_t;}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00051\ \ \ \ \ HMC5883L\_SAMPLE\_AVG\_1\ =\ 0,}
\DoxyCodeLine{00052\ \ \ \ \ HMC5883L\_SAMPLE\_AVG\_2\ =\ 1,}
\DoxyCodeLine{00053\ \ \ \ \ HMC5883L\_SAMPLE\_AVG\_4\ =\ 2,}
\DoxyCodeLine{00054\ \ \ \ \ HMC5883L\_SAMPLE\_AVG\_8\ =\ 3}
\DoxyCodeLine{00055\ \}\ hmc5883l\_sample\_avg\_t;}
\DoxyCodeLine{00056\ }
\DoxyCodeLine{00057\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00058\ \ \ \ \ hmc5883l\_sample\_avg\_t\ samples\_avg;}
\DoxyCodeLine{00059\ \ \ \ \ hmc5883l\_output\_rate\_t\ output\_rate;}
\DoxyCodeLine{00060\ \ \ \ \ hmc5883l\_measurement\_mode\_t\ m\_mode;}
\DoxyCodeLine{00061\ \ \ \ \ hmc5883l\_fs\_t\ gain;}
\DoxyCodeLine{00062\ \ \ \ \ hmc5883l\_highspeed\_t\ hs;}
\DoxyCodeLine{00063\ \ \ \ \ hmc5883l\_mode\_t\ mode;}
\DoxyCodeLine{00064\ \}\ \mbox{\hyperlink{structhmc5883l__config__t}{hmc5883l\_config\_t}};}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00067\ \ \ \ \ int16\_t\ raw\_x;}
\DoxyCodeLine{00068\ \ \ \ \ int16\_t\ raw\_y;}
\DoxyCodeLine{00069\ \ \ \ \ int16\_t\ raw\_z;}
\DoxyCodeLine{00070\ \}\ \mbox{\hyperlink{structmag__field__raw__t}{mag\_field\_raw\_t}};}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00073\ \ \ \ \ \textcolor{keywordtype}{float}\ x;}
\DoxyCodeLine{00074\ \ \ \ \ \textcolor{keywordtype}{float}\ y;}
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keywordtype}{float}\ z;}
\DoxyCodeLine{00076\ \}\ \mbox{\hyperlink{structmag__field__t}{mag\_field\_t}};}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \textcolor{keyword}{extern}\ hmc5883l\_handle\_t\ hmc5883l\_create(i2c\_port\_t\ port,\ uint16\_t\ addr);\ \textcolor{comment}{//\ dev\ addresse\ are\ fixed}}
\DoxyCodeLine{00081\ \textcolor{keyword}{extern}\ esp\_err\_t\ hmc5883l\_delete(hmc5883l\_handle\_t\ sensor);}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{keyword}{extern}\ esp\_err\_t\ hmc5883l\_config(hmc5883l\_handle\_t\ sensor,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structhmc5883l__config__t}{hmc5883l\_config\_t}}\ cfg);}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \textcolor{keyword}{extern}\ esp\_err\_t\ hmc5883l\_get\_gain(hmc5883l\_handle\_t\ sensor,\ uint16\_t*\ gain);}
\DoxyCodeLine{00086\ \textcolor{keyword}{extern}\ esp\_err\_t\ hmc5883l\_get\_raw\_mag\_field(hmc5883l\_handle\_t\ sensor,\ \mbox{\hyperlink{structmag__field__raw__t}{mag\_field\_raw\_t}}*\ mag);}
\DoxyCodeLine{00087\ \textcolor{keyword}{extern}\ esp\_err\_t\ hmc5883l\_get\_mag\_field(hmc5883l\_handle\_t\ sensor,\ \mbox{\hyperlink{structmag__field__t}{mag\_field\_t}}*\ mag);}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \textcolor{preprocessor}{\#endif\ }}

\end{DoxyCode}
